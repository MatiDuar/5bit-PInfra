<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<h:outputScript library="primefaces" name="jquery/jquery.js" />
	<h:outputScript library="primefaces" name="primefaces.js" />
	<link type="text/css" rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/primeflex@3.3.1/primeflex.min.css" />
	<style>
.label {
	width: 20%;
	padding: 4px;
}

.value {
	width: 80%;
	padding: 4px;
}

.grid {
	width: 100%;
}

.error {
	color: red;
}

.outputLabel {
	font-weight: bold;
}

.box {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100vh;
	width: 100%;
}

.fildsetprueba {
	margin-bottom: 20px;
}

.separador {
	margin-top: -10%;
	margin-bottom: 6%;
}

.headerRegistro {
	display: flex;
	background: linear-gradient(#006666, #FFFFFF);
	width: 100%;
	height: 500px;
	justify-content: center;
	color: white;
	font-size: 20px;
}

.textoHeader {
	margin-top: 7%;
}

body {
	margin: 0px;
}

.footer {
	display: flex;
	justify-content: center;
	align-items: center;
	text-align: center;
	background: #f5f5f5;
}
</style>
</h:head>
<body>

	<!--****************************************	Header	  **************************************** -->
	<div class="headerRegistro">
		<div class="textoHeader">
			<h1 class="mt-0">REGISTRO DE USUARIO</h1>
		</div>
	</div>
	<!--**************************************** 	Fin Header    ****************************************-->

	<!--**************************************** 	Registro    ****************************************-->
	<div class="box separador">
		<div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
			<div class="card ">
				<h:form>
					<p:growl id="messages" life="3000" closable="true" />
					<p:fieldset id="grid" legend="Datos Personales"
						class="fildsetprueba">
						<div class="grid ui-fluid">
							<div class="col-12 md:col-4">
								<h5>Primer Nombre *</h5>
								<p:message for="primerNombre" id="PriNombreError"
									display="tooltip" />
								<p:inputText id="primerNombre"
									value="#{gestionPersona.personaSeleccionada.nombre1}"
									required="true"
									requiredMessage="Debe ingresar el primer Nombre" maxlength="50" />
							</div>

							<div class="col-12 md:col-4">
								<h5>Segundo Nombre</h5>
								<p:inputText
									value="#{gestionPersona.personaSeleccionada.nombre2}" />
							</div>
							<div class="field col-12 md:col-4">
								<h5>Fecha Nacimiento *</h5>
								<p:datePicker id="spanish" value="#{gestionPersona.fechaNacSel}"
									locale="es" monthNavigator="true" pattern="dd-MM-yyyy"
									required="true" requiredMessage="" />

							</div>
						</div>
						<div class="grid ui-fluid">
							<div class="col-12 md:col-4">
								<h5>Primer Apellido *</h5>
								<p:inputText
									value="#{gestionPersona.personaSeleccionada.apellido1}"
									required="true"
									requiredMessage="Debe ingresar el primer Apellido" />
							</div>

							<div class="col-12 md:col-4">
								<h5>Segundo Apellido</h5>
								<p:inputText
									value="#{gestionPersona.personaSeleccionada.apellido2}" />
							</div>
							<div class="field col-12 md:col-4">
								<h5>Direccion *</h5>
								<p:inputText
									value="#{gestionPersona.personaSeleccionada.direccion}"
									required="true" requiredMessage="Debe ingresar la Direccion" />
							</div>
						</div>

						<div class="grid ui-fluid"></div>


					</p:fieldset>
					<p:fieldset id="grid2" legend="Datos Usuario" class="fildsetprueba">
						<div class="grid ui-fluid">
							<div class="col-12 md:col-4">
								<h5>Nombre de Usuario *</h5>
								<p:inputText
									value="#{gestionPersona.personaSeleccionada.nombreUsuario}"
									required="true"
									requiredMessage="Debe ingresar el Nombre de Usuario" />
							</div>

							<div class="col-12 md:col-4">
								<h5>Email</h5>
								<p:inputText value="#{gestionPersona.personaSeleccionada.mail}"
									required="true" requiredMessage="Debe ingresar el Email" />
							</div>
						</div>
						<div class="grid ui-fluid">
							<div class="col-12 md:col-4">
								<h5>Contraseña *</h5>
								<p:password id="pass" label="Contraseña" match="pass2"
									feedback="false"
									value="#{gestionPersona.personaSeleccionada.contrasena}"
									validatorMessage="Las Contraseñas no coinciden" required="true"
									requiredMessage="Se necesita una valor" />

							</div>
							<div class="col-12 md:col-4">
								<h5>Confirmar Contraseña *</h5>
								<p:password id="pass2" label="Confirmar Contraseña"
									feedback="false"
									value="#{gestionPersona.personaSeleccionada.contrasena}"
									required="true" requiredMessage="Debe ingresar una Contraseña" />
							</div>
						</div>
					</p:fieldset>

					<p:fieldset id="grid3" legend="Datos Alumno" class="fildsetprueba">
						<div class="grid ui-fluid">
							<div class="col-12 md:col-4">
								<h5>Eres Estudiante *</h5>
								<p:selectOneMenu id="isEstudiante" required="true"
									value="#{gestionPersona.alumno}">
									<f:selectItem itemLabel="Selecciona uno" itemValue="" />
									<f:selectItem itemLabel="Si" itemValue="true" />
									<f:selectItem itemLabel="No" itemValue="false" />
									<p:ajax event="change" update="datosAlumno"></p:ajax>
								</p:selectOneMenu>

							</div>
						</div>
						<ui:fragment rendered="#{gestionPersona.alumno==true}"
							id="datosAlumno">
							<div class="grid ui-fluid" id="datosAlumno">
								<div class="col-12 md:col-4">
									<h5>Id Estudiantil *</h5>
									<p:inputText value="" required="true"
										requiredMessage="Debe ingresar el Id Estudiantil" />
								</div>

								<div class="col-12 md:col-4">
									<h5>Carrera *</h5>
									<p:selectOneMenu id="group" value="#{null}" required="true">
										<f:selectItem itemLabel="Selecciona uno" itemValue="" />
										<c:forEach var="carrera" items="#{gestionPersona.carreras}">
											<f:selectItem itemLabel="#{carrera.nombre}"
												itemValue="#{carrera.nombre}" />
										</c:forEach>
									</p:selectOneMenu>
								</div>
							</div>
						</ui:fragment>
					</p:fieldset>
					
					<div>
						<div class="flex card-container">
							<div class="flex-none flex align-items-center justify-content-center">
								<p:commandButton value="Success"
									styleClass="ui-button-raised ui-button-success"
									action="#{gestionPersona.agregarPersona}" update="grid grid2" />
							</div>
							<div
								class="flex-grow-1 flex align-items-center justify-content-center "></div>
							<div class="flex-none flex align-items-center justify-content-center">
								<p:commandButton value="Danger"
									styleClass="ui-button-raised ui-button-danger" />
							</div>
						</div>
					</div>
					
				</h:form>
			</div>
		</div>
	</div>
<!--**************************************** 	Fin Registro    ****************************************-->

<!--**************************************** 	Footer    ****************************************-->
	<div class="footer">
		<h1>Footer</h1>
	</div>
<!--**************************************** 	Fin Footer    ****************************************-->
</body>
</html>




